.Nav {
  position: fixed;
  left: 0;
  top: 0;
  height: 100vh;
  width: 72px;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  align-items: center;
  padding: 16px 8px;
  background-color: #f5f5f5; /* light grey nav background */
  color: #000; /* black text on light background */
  /* slower transitions for colors; width is no longer animated on the root (we animate the inner panel) */
  transition: background-color 420ms cubic-bezier(.22,.9,.33,1), color 320ms ease;
  will-change: background-color, color;
  cursor: pointer; /* entire nav is pressable to expand/collapse */
  z-index: 1000;
  box-shadow: 2px 0 8px rgba(0,0,0,0.06);
}

/* Proximity hover zone: an invisible area to the left of the nav
   so moving the mouse near the bar triggers :hover before touching it. */
.Nav::before {
  content: '';
  position: absolute;
  top: 0;
  left: -160px; /* extend further to start the darkening earlier */
  width: 160px;
  height: 100%;
  pointer-events: auto; /* capture pointer so :hover is triggered when near */
  background: transparent;
}

/* Sliding panel that visually expands. Animate transform (GPU-friendly) to avoid layout reflows. */
.Nav-panel {
  position: absolute;
  top: 0;
  left: 0;
  height: 100vh;
  width: 33vw;
  max-width: 480px;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  align-items: flex-start;
  padding: 20px 18px;
  transform: translateX(calc(-100% + 72px)); /* keep left 72px visible when closed */
  transition: transform 720ms cubic-bezier(.2,.8,.2,1), background-color 420ms ease, color 320ms ease;
  will-change: transform;
  pointer-events: none; /* disabled while closed so it doesn't steal clicks */
  overflow: hidden;
}

.Nav-panel-header {
  width: 100%;
  display: flex;
  align-items: center;
  gap: 10px;
  padding-bottom: 8px;
}

.Nav-panel-text {
  font-weight: 700;
  font-size: 1.05rem;
  color: inherit; /* will be white when panel darkens */
}

/* Ensure Nav-top and Nav-bottom remain visible and centered in the collapsed bar */
.Nav-top,
.Nav-bottom {
  width: 72px;
  display: flex;
  align-items: center;
  justify-content: center;
  pointer-events: auto; /* these should be interactive even when panel is closed */
  z-index: 1100; /* sit above the sliding panel */
}

.Nav-text {
  /* keep the vertical styling but ensure it fits into the collapsed width */
  max-width: 48px;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

/* When expanded, hide the vertical collapsed label and show the panel header title */
.Nav.open .Nav-top .Nav-text {
  opacity: 0;
  transform: rotate(180deg) translateX(-6px);
  transition: opacity 240ms ease, transform 320ms ease;
}

.Nav-panel-text {
  opacity: 0;
  transform: translateX(-6px);
  transition: opacity 320ms ease 200ms, transform 320ms ease 200ms;
}

.Nav.open .Nav-panel-text {
  opacity: 1;
  transform: translateX(0);
}

.Nav-login {
  background-color: hsla(150, 80%, 1%, 1);
}

.Nav-top {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 6px;
  width: 100%;
  /* push the vertical brand label slightly down so it's fully visible */
  padding-top: 18px;
}

.Nav-logo {
  height: 40px;
  width: 40px;
  display: block;
}

.Nav-text {
  font-size: 0.95rem;
  font-weight: 600;
  /* Render the text vertically along the sidebar */
  writing-mode: vertical-rl;
  text-orientation: mixed;
  transform: rotate(180deg); /* flip to read top-to-bottom */
  letter-spacing: 0.06em;
  color: #000;
}

/* Hovering the entire nav switches it to dark mode (black bg, white text/icons) */
.Nav:hover {
  background-color: #000;
  color: #fff;
}

.Nav:hover .Nav-text,
.Nav:hover .Nav-item {
  color: #fff;
}

.Nav:hover .Nav-toggle-inner,
.Nav:hover .Nav-toggle-inner::before,
.Nav:hover .Nav-toggle-inner::after {
  background: #fff; /* white hamburger lines on dark bg */
}

.Nav:hover .Nav-item:hover,
.Nav:hover .Nav-item:focus {
  background: rgba(255,255,255,0.06);
}

.Nav-links {
  margin-top: 16px;
  width: 100%;
  /* prepare for animated reveal: keep in flow but collapsed when hidden */
  max-height: 0;
  opacity: 0;
  transform: translateX(-10px);
  overflow: hidden;
  /* slower reveal so it follows the main expansion */
  transition: max-height 820ms cubic-bezier(.2,.8,.2,1), opacity 620ms ease 260ms, transform 620ms ease 260ms;
}

.Nav-bottom {
  width: 100%;
  display: flex;
  justify-content: center;
  padding-bottom: 8px;
  /* raise the hamburger by moving it away from the bottom edge */
  margin-bottom: 20px;
}

/* Collapsed state: keep links present but hidden so they can animate */
.Nav .Nav-links {
  display: block;
  opacity: 0;
}


/* When open, the Nav-panel slides into view and receives the dark background */
.Nav.open {
  align-items: flex-start;
  cursor: default;
}

.Nav.open .Nav-panel {
  transform: translateX(0);
  background-color: #000;
  color: #fff;
  pointer-events: auto;
}

/* Make the hamburger/X lines visible on dark background when open */
.Nav.open .Nav-toggle-inner::before,
.Nav.open .Nav-toggle-inner::after {
  background: #fff;
}

.Nav.open .Nav-panel .Nav-text {
  /* hide the vertical brand label when the sidebar is expanded */
  display: none;
}

.Nav.open .Nav-panel .Nav-links {
  /* reveal links with a smooth fade/slide as the panel expands */
  max-height: 1000px; /* large enough for content */
  opacity: 1;
  transform: translateX(0);
  margin-top: 24px;
  overflow: visible;
}

/* Center the nav links inside the expanded panel (both vertically and horizontally)
   and make them larger for emphasis. Visibility is controlled by the .open class so
   they remain visible even after hovering away. */
.Nav.open .Nav-panel .Nav-links {
  display: flex;
  flex-direction: column;
  /* left-align items inside the expanded panel */
  align-items: flex-start;
  justify-content: center;
  gap: 18px;
  margin: auto; /* centers vertically inside the panel */
  padding: 0 12px 0 36px; /* give extra left padding so text doesn't touch the edge */
}

/* Keep labels visible and interactive when the panel is open */
.Nav.open .Nav-panel .Nav-links .Nav-item-label {
  opacity: 1;
  transform: none;
}

.Nav.open .Nav-panel .Nav-links .Nav-item {
  pointer-events: auto;
}

.Nav.open .Nav-panel .Nav-links .Nav-item {
  /* Make link text much larger for emphasis in expanded state */
  font-size: 3.75rem; /* ~3x the previous 1.25rem */
  padding: 18px 14px;
  margin: 0;
  background: transparent;
  line-height: 1; /* keep tight lines for large type */
}

/* Per-item hover: arrow sits inline to the right of the label; description appears below */
.Nav-item {
  position: relative;
  display: inline-flex; /* keep label and arrow on one line */
  align-items: center;
  justify-content: flex-start; /* left-align label+arrow */
  gap: 8px;
  transition: transform 260ms cubic-bezier(.2,.8,.2,1), color 160ms ease;
  width: 100%; /* span the available width so left-alignment is consistent */
  text-align: left;
}

.Nav-item-label {
  display: inline-block;
}

.Nav-item-arrow {
  display: inline-block;
  margin-left: 12px; /* sits directly to the right of the label */
  opacity: 0;
  transform: translateX(-6px);
  transition: opacity 220ms ease, transform 260ms cubic-bezier(.2,.8,.2,1);
  font-size: 3.75rem; /* match the enlarged label when nav is open */
  line-height: 1;
  color: inherit;
}

.Nav-item-desc {
  position: absolute;
  left: 0; /* align with the left edge of the link text */
  top: calc(100% + 6px); /* place just below the link text */
  transform-origin: top left;
  transform: translateY(6px) rotateX(90deg);
  opacity: 0;
  transition: opacity 260ms ease, transform 320ms cubic-bezier(.2,.8,.2,1);
  font-size: 0.85rem;
  color: inherit; /* match current panel color */
  white-space: nowrap;
  background: rgba(0,0,0,0.12);
  padding: 6px 8px;
  border-radius: 6px;
  pointer-events: none;
  z-index: 1200;
}

.Nav.open .Nav-panel .Nav-links .Nav-item:hover,
.Nav.open .Nav-panel .Nav-links .Nav-item:focus {
  transform: translateY(-8px) scale(1.02);
}

.Nav.open .Nav-panel .Nav-links .Nav-item:hover .Nav-item-arrow,
.Nav.open .Nav-panel .Nav-links .Nav-item:focus .Nav-item-arrow {
  opacity: 1;
  transform: translateX(0);
}

.Nav.open .Nav-panel .Nav-links .Nav-item:hover .Nav-item-desc,
.Nav.open .Nav-panel .Nav-links .Nav-item:focus .Nav-item-desc {
  opacity: 1;
  transform: translateY(0) rotateX(0deg);
}

.Nav-item {
  color: inherit; /* follow panel/nav color so labels switch when panel darkens */
  text-decoration: none;
  padding: 10px 8px;
  border-radius: 6px;
  font-weight: 500;
  margin-bottom: 6px;
}

.Nav-item:hover,
.Nav-item:focus {
  background: rgba(0,0,0,0.04);
}

/* Hamburger / toggle */
.Nav-toggle {
  background: transparent;
  border: none;
  padding: 6px;
  cursor: pointer;
  display: inline-flex;
  align-items: center;
  justify-content: center;
}

.Nav-toggle-box {
  width: 22px;
  height: 14px;
  display: inline-block;
  position: relative;
}

.Nav-toggle-inner,
.Nav-toggle-inner::before,
.Nav-toggle-inner::after {
  content: '';
  display: block;
  position: absolute;
  left: 0;
  width: 100%;
  height: 2px;
  background: #000; /* dark hamburger lines on light bg */
  transition: transform 720ms cubic-bezier(.25,.75,.25,1), opacity 520ms ease;
}

.Nav-toggle-inner {
  top: 50%;
  transform: translateY(-50%);
}

.Nav-toggle-inner::before {
  top: -6px;
}

.Nav-toggle-inner::after {
  top: 6px;
}

/* Toggle animation when open */
.Nav.open .Nav-toggle-inner {
  background: transparent;
}

.Nav.open .Nav-toggle-inner::before {
  transform: translateY(6px) rotate(45deg);
}

.Nav.open .Nav-toggle-inner::after {
  transform: translateY(-6px) rotate(-45deg);
}

.Nav-link {
  text-decoration: none;
}

.Nav-button {
  background-color: var(--ocean-blue);
  color: var(--text-on-dark);
  border: none;
  padding: 10px 16px;
  border-radius: 8px;
  cursor: pointer;
  font-size: 0.95rem;
  transition: background-color 0.2s ease, transform 0.12s ease;
}

.Nav-button:hover,
.Nav-button:focus {
  background-color: #005f8a; /* slightly darker sea blue */
  transform: translateY(-1px);
}

/* Responsive: collapse to top bar on small screens */
@media (max-width: 768px) {
  .Nav {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: auto;
    flex-direction: row;
    justify-content: space-between;
    align-items: center;
    padding: 10px 16px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.08);
  }

  .Nav-item {
    display: block;
    color: inherit;
    text-decoration: none;
    padding: 10px 8px;
    border-radius: 6px;
    font-weight: 500;
    margin-bottom: 6px;
  }

  .Nav-item:hover,
  .Nav-item:focus {
    background: rgba(0,0,0,0.04);
  }

  /* Reset adjustments for small screen top bar layout */
  .Nav-top { padding-top: 0; }
  .Nav-bottom { margin-bottom: 0; }

  /* On small screens, disable the proximity zone so touches aren't intercepted */
  .Nav::before {
    pointer-events: none;
  }
}